{"ast":null,"code":"import _classCallCheck from\"/Users/macbookpro15/Desktop/mesto-react/mesto-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/macbookpro15/Desktop/mesto-react/mesto-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(_ref){var baseUrl=_ref.baseUrl,headers=_ref.headers;_classCallCheck(this,Api);this._baseUrl=baseUrl;this._headers=headers;this._checkResponse=function(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));};}_createClass(Api,[{key:\"getUserInfo\",value:function getUserInfo(){return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{method:'Get',headers:this._headers}).then(this._checkResponse);}},{key:\"getInitialCards\",value:function getInitialCards(){return fetch(\"\".concat(this._baseUrl,\"/cards\"),{method:'Get',headers:this._headers}).then(this._checkResponse);}},{key:\"saveNewUserInfo\",value:function saveNewUserInfo(userData){return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({name:userData.title,about:userData.subtitle})}).then(this._checkResponse);}},{key:\"saveNewUserAvatar\",value:function saveNewUserAvatar(userData){return fetch(\"\".concat(this._baseUrl,\"/users/me/avatar\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({avatar:userData.avatar})}).then(this._checkResponse);}},{key:\"sendNewCard\",value:function sendNewCard(inputValues){return fetch(\"\".concat(this._baseUrl,\"/cards\"),{method:'POST',headers:this._headers,body:JSON.stringify({name:inputValues.place,link:inputValues.src})}).then(this._checkResponse);}},{key:\"removeCard\",value:function removeCard(cardId){return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(cardId),{method:'DELETE',headers:this._headers}).then(this._checkResponse);}},{key:\"addLike\",value:function addLike(cardId){return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(cardId,\"/likes\"),{method:'PUT',headers:this._headers}).then(this._checkResponse);}},{key:\"removeLike\",value:function removeLike(cardId){return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(cardId,\"/likes\"),{method:'DELETE',headers:this._headers}).then(this._checkResponse);}}]);return Api;}();var api=new Api({baseUrl:'https://mesto.nomoreparties.co/v1/cohort-54',headers:{authorization:'94b9605b-5472-447a-96bc-8a72a81051a5','Content-Type':'application/json'}});export default api;","map":{"version":3,"names":["Api","baseUrl","headers","_baseUrl","_headers","_checkResponse","res","ok","json","Promise","reject","status","fetch","method","then","userData","body","JSON","stringify","name","title","about","subtitle","avatar","inputValues","place","link","src","cardId","api","authorization"],"sources":["/Users/macbookpro15/Desktop/mesto-react/mesto-react/src/utils/api.js"],"sourcesContent":["  class Api {\n    constructor({ baseUrl, headers }) { \n      this._baseUrl = baseUrl;\n      this._headers = headers;\n  \n      this._checkResponse = (res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n      };\n    }\n  \n    getUserInfo() {\n      return fetch(`${this._baseUrl}/users/me`, {\n        method: 'Get',\n        headers: this._headers,\n      }).then(this._checkResponse);\n    }\n  \n    getInitialCards() {\n      return fetch(`${this._baseUrl}/cards`, {\n        method: 'Get',\n        headers: this._headers, \n    })\n      .then(this._checkResponse);\n    }\n  \n    saveNewUserInfo(userData) {\n      return fetch(`${this._baseUrl}/users/me`, {\n        method: 'PATCH',\n        headers: this._headers,\n        body: JSON.stringify({\n          name: userData.title,\n          about: userData.subtitle\n        })})\n        .then(this._checkResponse);\n    }\n  \n    saveNewUserAvatar(userData) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n        method: 'PATCH',\n        headers: this._headers,\n        body: JSON.stringify({\n          avatar: userData.avatar\n        })})\n        .then(this._checkResponse);\n    }\n  \n    sendNewCard(inputValues) {\n      return fetch(`${this._baseUrl}/cards`, {\n        method: 'POST',\n        headers: this._headers,\n        body: JSON.stringify({\n          name: inputValues.place,\n          link: inputValues.src,\n        })})\n        .then(this._checkResponse);\n    }\n  \n    removeCard(cardId) {\n      return fetch(`${this._baseUrl}/cards/${cardId}`, {\n        method: 'DELETE',\n        headers: this._headers,\n        })\n        .then(this._checkResponse);\n    }\n  \n    addLike(cardId) {\n      return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n        method: 'PUT',\n        headers: this._headers,\n        })\n        .then(this._checkResponse);\n    }\n  \n    removeLike(cardId) {\n      return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n        method: 'DELETE',\n        headers: this._headers,\n        })\n        .then(this._checkResponse);\n    }\n  }\n\n  const api = new Api({\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-54',\n    headers: {\n      authorization: '94b9605b-5472-447a-96bc-8a72a81051a5',\n      'Content-Type': 'application/json'\n    }\n  });\n\n\n  export default api;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}