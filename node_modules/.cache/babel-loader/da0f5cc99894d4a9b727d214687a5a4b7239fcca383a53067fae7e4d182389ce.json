{"ast":null,"code":"import _slicedToArray from\"/Users/macbookpro15/Desktop/mesto-react/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import api from\"../utils/api\";import Card from\"./Card\";import avatarButton from\"../utils/variables\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Main(_ref){var onEditAvatar=_ref.onEditAvatar,onEditProfile=_ref.onEditProfile,onAddPlace=_ref.onAddPlace,onCardClick=_ref.onCardClick;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),userName=_useState2[0],setUserName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),userDescription=_useState4[0],setUserDescription=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),userAvatar=_useState6[0],setUserAvatar=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),cards=_useState8[0],setCards=_useState8[1];useEffect(function(){Promise.all([api.getUserInfo(),api.getInitialCards()]).then(function(_ref2){var _ref3=_slicedToArray(_ref2,2),user=_ref3[0],cards=_ref3[1];setUserName(user.name);setUserDescription(user.about);setUserAvatar(user.avatar);setCards(cards.map(function(card){return{id:card._id,name:card.name,link:card.link,likes:card.likes};}));}).catch(function(err){console.log(err);});},[]);return/*#__PURE__*/_jsxs(\"main\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__avatar-container\",onClick:onEditAvatar,children:[/*#__PURE__*/_jsx(\"img\",{className:\"profile__avatar\",src:userAvatar,alt:avatarButton}),/*#__PURE__*/_jsx(\"div\",{className:\"profile__avatar-overlay\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__title\",children:userName}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__edit-button\",onClick:onEditProfile,type:\"button\"}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__subtitle\",children:userDescription})]}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__add-button\",onClick:onAddPlace,type:\"button\"})]}),/*#__PURE__*/_jsx(\"section\",{className:\"elements\",children:cards.map(function(card){return/*#__PURE__*/_jsx(Card,{onCardClick:onCardClick,card:card},card.id);})})]});}export default Main;","map":{"version":3,"names":["React","useState","useEffect","api","Card","avatarButton","Main","onEditAvatar","onEditProfile","onAddPlace","onCardClick","userName","setUserName","userDescription","setUserDescription","userAvatar","setUserAvatar","cards","setCards","Promise","all","getUserInfo","getInitialCards","then","user","name","about","avatar","map","card","id","_id","link","likes","catch","err","console","log"],"sources":["/Users/macbookpro15/Desktop/mesto-react/mesto-react/src/components/Main.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport api from \"../utils/api\";\nimport Card from \"./Card\";\nimport avatarButton from \"../utils/variables\";\n\n\n\nfunction Main({ onEditAvatar, onEditProfile, onAddPlace, onCardClick }) {\n    const [userName, setUserName] = useState(\"\");\n    const [userDescription, setUserDescription] = useState(\"\");\n    const [userAvatar, setUserAvatar] = useState(\"\");\n    const [cards, setCards] = useState([]);\n\n   \n    useEffect(() => {\n      Promise.all([api.getUserInfo(), api.getInitialCards()])\n        .then(([user, cards]) => {\n          setUserName(user.name);\n          setUserDescription(user.about)\n          setUserAvatar(user.avatar);\n          setCards(cards.map((card) => ({\n            id: card._id,\n            name: card.name,\n            link: card.link,\n            likes: card.likes\n          })));\n        })\n        .catch((err) => { \n          console.log(err);\n        })\n    }, [])\n    \n    return (\n        <main className=\"content\">\n            <section className=\"profile\">\n                <div className=\"profile__avatar-container\" onClick={onEditAvatar} >\n                    <img className=\"profile__avatar\" src={userAvatar} alt={avatarButton} />\n                    <div className=\"profile__avatar-overlay\"></div>\n                </div>\n                <div className=\"profile__info\">\n                    <h1 className=\"profile__title\">{userName}</h1>\n                    <button \n                        className=\"profile__edit-button\"\n                        onClick={onEditProfile}\n                        type=\"button\">\n                    </button>\n                     <p className=\"profile__subtitle\">{userDescription}</p>  \n                </div>\n                <button \n                    className=\"profile__add-button\"\n                    onClick={onAddPlace}\n                    type=\"button\">\n                </button>           \n            </section>\n            <section className=\"elements\">\n              { \n                cards.map((card) => {\n               return <Card \n                  key={card.id} \n                  onCardClick={onCardClick} \n                  card={card} \n                />\n                })\n              }\n            </section>\n        </main>\n    )\n}\nexport default Main;"],"mappings":"yIAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAOC,IAAG,KAAM,cAAc,CAC9B,MAAOC,KAAI,KAAM,QAAQ,CACzB,MAAOC,aAAY,KAAM,oBAAoB,CAAC,wFAI9C,QAASC,KAAI,MAA2D,IAAxDC,aAAY,MAAZA,YAAY,CAAEC,aAAa,MAAbA,aAAa,CAAEC,UAAU,MAAVA,UAAU,CAAEC,WAAW,MAAXA,WAAW,CAChE,cAAgCT,QAAQ,CAAC,EAAE,CAAC,wCAArCU,QAAQ,eAAEC,WAAW,eAC5B,eAA8CX,QAAQ,CAAC,EAAE,CAAC,yCAAnDY,eAAe,eAAEC,kBAAkB,eAC1C,eAAoCb,QAAQ,CAAC,EAAE,CAAC,yCAAzCc,UAAU,eAAEC,aAAa,eAChC,eAA0Bf,QAAQ,CAAC,EAAE,CAAC,yCAA/BgB,KAAK,eAAEC,QAAQ,eAGtBhB,SAAS,CAAC,UAAM,CACdiB,OAAO,CAACC,GAAG,CAAC,CAACjB,GAAG,CAACkB,WAAW,EAAE,CAAElB,GAAG,CAACmB,eAAe,EAAE,CAAC,CAAC,CACpDC,IAAI,CAAC,eAAmB,mCAAjBC,IAAI,UAAEP,KAAK,UACjBL,WAAW,CAACY,IAAI,CAACC,IAAI,CAAC,CACtBX,kBAAkB,CAACU,IAAI,CAACE,KAAK,CAAC,CAC9BV,aAAa,CAACQ,IAAI,CAACG,MAAM,CAAC,CAC1BT,QAAQ,CAACD,KAAK,CAACW,GAAG,CAAC,SAACC,IAAI,QAAM,CAC5BC,EAAE,CAAED,IAAI,CAACE,GAAG,CACZN,IAAI,CAAEI,IAAI,CAACJ,IAAI,CACfO,IAAI,CAAEH,IAAI,CAACG,IAAI,CACfC,KAAK,CAAEJ,IAAI,CAACI,KACd,CAAC,EAAC,CAAC,CAAC,CACN,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,GAAG,CAAK,CACdC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAClB,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,mBACI,cAAM,SAAS,CAAC,SAAS,wBACrB,iBAAS,SAAS,CAAC,SAAS,wBACxB,aAAK,SAAS,CAAC,2BAA2B,CAAC,OAAO,CAAE5B,YAAa,wBAC7D,YAAK,SAAS,CAAC,iBAAiB,CAAC,GAAG,CAAEQ,UAAW,CAAC,GAAG,CAAEV,YAAa,EAAG,cACvE,YAAK,SAAS,CAAC,yBAAyB,EAAO,GAC7C,cACN,aAAK,SAAS,CAAC,eAAe,wBAC1B,WAAI,SAAS,CAAC,gBAAgB,UAAEM,QAAQ,EAAM,cAC9C,eACI,SAAS,CAAC,sBAAsB,CAChC,OAAO,CAAEH,aAAc,CACvB,IAAI,CAAC,QAAQ,EACR,cACR,UAAG,SAAS,CAAC,mBAAmB,UAAEK,eAAe,EAAK,GACrD,cACN,eACI,SAAS,CAAC,qBAAqB,CAC/B,OAAO,CAAEJ,UAAW,CACpB,IAAI,CAAC,QAAQ,EACR,GACH,cACV,gBAAS,SAAS,CAAC,UAAU,UAEzBQ,KAAK,CAACW,GAAG,CAAC,SAACC,IAAI,CAAK,CACrB,mBAAO,KAAC,IAAI,EAET,WAAW,CAAEnB,WAAY,CACzB,IAAI,CAAEmB,IAAK,EAFNA,IAAI,CAACC,EAAE,CAGZ,CACF,CAAC,CAAC,EAEI,GACP,CAEf,CACA,cAAexB,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}